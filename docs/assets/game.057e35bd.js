import{t as u}from"./element-plus.2cc2e93a.js";import{_ as x}from"./index.0fad94e8.js";import{X as b,i as k,z as C,c as f,a as l,R as n,P as r,L as T,a3 as M,u as e,H as _,o as y,$ as d,T as c,M as $}from"./@vue.51d06c04.js";import"./dayjs.694c8893.js";import"./axios.1257cc19.js";import"./lodash-es.242a7524.js";import"./@vueuse.5bca85f6.js";import"./@element-plus.38dbca56.js";import"./async-validator.fb49d0f5.js";import"./@popperjs.da6c49cb.js";import"./@ctrl.82a509e0.js";/* empty css                    */import"./jquery.310f556f.js";import"./vue-router.b643039d.js";import"./pinia.ea582305.js";import"./vue-demi.b3a9cad9.js";import"./lodash.c69ece30.js";import"./qs.43721135.js";import"./side-channel.ba47274a.js";import"./get-intrinsic.1675b33e.js";import"./has-symbols.caae0f97.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.0b5a4f26.js";import"./object-inspect.edb9dbe4.js";import"./jmuxer.f6538b25.js";import"./@wangeditor.e02a5395.js";import"./echarts.0483b3d8.js";import"./tslib.60310f1a.js";import"./zrender.c529f8bd.js";import"./vite-plugin-mock.c101b59b.js";import"./mockjs.c44c5d1b.js";import"./path-to-regexp.3eda823b.js";class g{constructor(t,a,i,o,h,s,w){this.w=t,this.h=a,this.body=[1,2,3,4],this.time=null,this.next=4,this.direction=3,this.fruit=w,this.over=0,this.v=100,this.falg=0,this.control(i,o,h,s),this.arr=(()=>{let p=[];for(let m=0;m<this.h;m++)p.push(this.w*m-1),p.push(this.w*m);return p})()}loopTime(t){this.time=setTimeout(()=>{if(clearTimeout(this.time),this.time=null,this.rule(),this.over===1)return this.loopTime(t)},t)}rule(){this.direction===1?this.next--:this.direction===3?this.next++:this.direction===2?this.next-=this.w:this.direction===4&&(this.next+=this.w);let t=this.fruit.indexOf(this.next);if(t>-1&&(this.body.unshift(this.body[0]),this.fruit.splice(t,1),this.fruit.push(Math.round(Math.random()*this.w*this.h))),this.next<0){clearTimeout(this.time),this.over=!0,u({title:"Game Over",message:"you death! \u6E38\u620F\u7ED3\u675F!",type:"error"});return}else if(this.next>this.w*this.h){clearTimeout(this.time),this.over=!0,u({title:"Game Over",message:"you death! \u6E38\u620F\u7ED3\u675F!",type:"error"});return}else if(this.arr.includes(this.next)){clearTimeout(this.time),this.over=!0,u({title:"Game Over",message:"you death! \u6E38\u620F\u7ED3\u675F!",type:"error"});return}this.body.includes(this.next)&&(clearTimeout(this.time),this.over=!0,u({title:"Game Over",message:"you death! \u6E38\u620F\u7ED3\u675F!",type:"error"})),this.body.shift(),this.body.push(this.next),this.body.length>13&&(this.time&&clearTimeout(this.time),this.over=4,u({title:"\u606D\u559C",message:"\u606D\u559C\u4F60\u901A\u5173\u6210\u529F!",type:"success"})),this.body.length%2===0&&this.v-20>0&&this.falg!==this.body.length&&(this.v-=20,this.falg=this.body.length)}start(){this.over=1,this.loopTime(this.v)}suspend(){this.over=2,this.time&&clearTimeout(this.time)}reload(){this.time&&clearTimeout(this.time),this.body=[1,2,3,4],this.time=null,this.next=4,this.direction=3,this.fruit=[Math.round(Math.random()*this.w*this.h),Math.round(Math.random()*this.w*this.h),Math.round(Math.random()*this.w*this.h)],this.over=0,this.v=100}changev(t){t?this.v+=25:this.v-25>0&&(this.v-=25),this.start()}control(t,a,i,o){window.addEventListener("keydown",h=>{h.keyCode==t?this.direction=1:h.keyCode==a?this.direction=2:h.keyCode==i?this.direction=3:h.keyCode==o&&(this.direction=4)})}destroy(){this.body=[],this.time&&clearTimeout(this.time),this.time=null}}const B={class:"game"},j={class:"content"},E={class:"flex nowrap"},z=d("\u5F00\u59CB"),D=d("\u6682\u505C"),O=d("\u91CD\u65B0\u5F00\u59CB"),G={id:"gameBox"},L={class:"content flex just-b",style:{padding:"0 15%","box-sizing":"border-box"}},N={class:"flex just-c align-c"},I=d("up"),V={class:"flex just-c align-c"},H=d("left"),F=d("right"),P={class:"flex just-c align-c"},R=d("down"),S={class:"flex just-c align-c"},U=d("up"),W={class:"flex just-c align-c"},X=d("left"),q=d("right"),A={class:"flex just-c align-c"},J=d("down"),K={setup(v){const t=b({w:60,h:30,it:{body:[1,2,3],w:0,h:0,time:null,next:0,direction:0,fruit:[7,8,9],over:0,v:0,destroy(){},start(){},suspend(){},changev(){}},it2:{body:[1,2,3,4],w:0,h:0,time:null,next:0,direction:0,fruit:[7,8,9],over:0,v:0,destroy(){},start(){},suspend(){},changev(){}},status:["\u672A\u5F00\u59CB","\u6E38\u620F\u4E2D","\u6682\u505C","\u7ED3\u675F","\u901A\u5173"],fruit:[111,23,4,55,65],init(){t.w=Math.floor(document.getElementById("gameBox").offsetWidth/20),t.h=Math.floor(document.getElementById("gameBox").offsetHeight/20),t.it=new g(t.w,t.h,37,38,39,40,this.fruit),t.it2=new g(t.w,t.h,65,87,68,83,this.fruit)},start(a){a?(t.it.start(),t.it2.start()):(t.it.suspend(),t.it2.suspend())},reset(){t.it.reload(),t.it2.reload()},now:new Date().getTime(),last:new Date().getTime()});return k(()=>{t.init(),window.addEventListener("resize",()=>{t.now=new Date().getTime(),(t.now-t.last>100||t.now-t.last===0)&&(t.last=new Date().getTime(),t.init())})}),C(()=>{console.log("\u9500\u6BC1"),t.it.destroy(),t.it2.destroy()}),(a,i)=>{const o=_("el-button"),h=_("el-scrollbar");return y(),f("div",B,[l("div",j,[n(h,{native:!1,noresize:!1,tag:"div"},{default:r(()=>[l("div",E,[n(o,{type:"success",onClick:i[0]||(i[0]=s=>e(t).start(1))},{default:r(()=>[z]),_:1}),n(o,{type:"danger",onClick:i[1]||(i[1]=s=>e(t).start(0))},{default:r(()=>[D]),_:1}),n(o,{type:"warning",onClick:e(t).reset},{default:r(()=>[O]),_:1},8,["onClick"]),n(o,{type:"danger"},{default:r(()=>[d("\u866B1\u901F\u5EA6: "+c(e(t).it.v),1)]),_:1}),n(o,{type:"danger"},{default:r(()=>[d("\u866B2\u901F\u5EA6: "+c(e(t).it2.v),1)]),_:1}),n(o,{round:"",type:"success"},{default:r(()=>[d("\u866B1\u5206\u6570: "+c(e(t).it.body.length*10-40),1)]),_:1}),n(o,{round:"",type:"success"},{default:r(()=>[d("\u866B2\u5206\u6570: "+c(e(t).it2.body.length*10-40),1)]),_:1})])]),_:1})]),l("div",G,[(y(!0),f(T,null,M(e(t).w*e(t).h,s=>(y(),f("span",{key:s,class:$([{it:e(t).it.body.includes(s)||e(t).it.fruit.includes(s),itf:e(t).it.body[0]===s,ith:e(t).it.body[e(t).it.body.length-1]===s,it2:e(t).it2.body.includes(s)||e(t).it2.fruit.includes(s),it2f:e(t).it2.body[0]===s,it2h:e(t).it2.body[e(t).it2.body.length-1]===s},"block"])},null,2))),128))]),l("div",L,[l("div",null,[l("p",N,[n(o,{style:{width:"80px"},type:"success",onClick:i[2]||(i[2]=s=>e(t).it.direction=2)},{default:r(()=>[I]),_:1})]),l("p",V,[n(o,{style:{width:"80px"},type:"primary",onClick:i[3]||(i[3]=s=>e(t).it.direction=1)},{default:r(()=>[H]),_:1}),n(o,{style:{width:"80px"},type:"warning",onClick:i[4]||(i[4]=s=>e(t).it.direction=3)},{default:r(()=>[F]),_:1})]),l("p",P,[n(o,{style:{width:"80px"},type:"danger",onClick:i[5]||(i[5]=s=>e(t).it.direction=4)},{default:r(()=>[R]),_:1})])]),l("div",null,[l("p",S,[n(o,{style:{width:"80px"},type:"success",onClick:i[6]||(i[6]=s=>e(t).it2.direction=2)},{default:r(()=>[U]),_:1})]),l("p",W,[n(o,{style:{width:"80px"},type:"primary",onClick:i[7]||(i[7]=s=>e(t).it2.direction=1)},{default:r(()=>[X]),_:1}),n(o,{style:{width:"80px"},type:"warning",onClick:i[8]||(i[8]=s=>e(t).it2.direction=3)},{default:r(()=>[q]),_:1})]),l("p",A,[n(o,{style:{width:"80px"},type:"danger",onClick:i[9]||(i[9]=s=>e(t).it2.direction=4)},{default:r(()=>[J]),_:1})])])])])}}};var Et=x(K,[["__scopeId","data-v-acf2fa8e"]]);export{Et as default};
