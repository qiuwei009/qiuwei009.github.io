import{u as f}from"./vue-router.b643039d.js";import{_ as y,c as S}from"./index.0fad94e8.js";import{p as w,g as k}from"./request.e5795a10.js";import{a as l}from"./element-plus.2cc2e93a.js";import{X as v,i as h,aw as x,c as E,a as e,R as d,P as p,u as i,as as R,at as I,H as m,o as b}from"./@vue.51d06c04.js";/* empty css                    */import"./jquery.310f556f.js";import"./axios.1257cc19.js";import"./pinia.ea582305.js";import"./vue-demi.b3a9cad9.js";import"./lodash.c69ece30.js";import"./qs.43721135.js";import"./side-channel.ba47274a.js";import"./get-intrinsic.1675b33e.js";import"./has-symbols.caae0f97.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.0b5a4f26.js";import"./object-inspect.edb9dbe4.js";import"./jmuxer.f6538b25.js";import"./@wangeditor.e02a5395.js";import"./echarts.0483b3d8.js";import"./tslib.60310f1a.js";import"./zrender.c529f8bd.js";import"./@element-plus.38dbca56.js";import"./vite-plugin-mock.c101b59b.js";import"./mockjs.c44c5d1b.js";import"./path-to-regexp.3eda823b.js";import"./dayjs.694c8893.js";import"./lodash-es.242a7524.js";import"./@vueuse.5bca85f6.js";import"./async-validator.fb49d0f5.js";import"./@popperjs.da6c49cb.js";import"./@ctrl.82a509e0.js";const c=a=>(R("data-v-4ecd537e"),a=a(),I(),a),N={class:"login flex align-c just-c"},C={class:"back"},M=c(()=>e("div",{class:"login-title1"}," \u6210\u90FD\u8D28\u63A7\u6570\u636E\u5927\u5C4F ",-1)),V={class:"login-form"},O={action:"/login",class:"form",method:"post"},T={class:"darkcolor",style:{"padding-top":"20px"}},J=c(()=>e("i",{class:"iconfont icon-RectangleCopy2"},null,-1)),Y={class:"darkcolor"},L=c(()=>e("i",{class:"iconfont icon-RectangleCopy29"},null,-1)),U={class:"darkcolor",style:{"border-radius":"0 0 5px 5px"}},A=c(()=>e("span",{style:{color:"#ccc"}},"\u767B\u5F55",-1)),B={setup(a){const u=S(),_=f(),t=v({account:"qw",password:"123456",type:!1,async submit(){if(!this.account||!this.password){l.error("\u8BF7\u586B\u5199\u8D26\u53F7\u6216\u5BC6\u7801!");return}let o=await w("/oauth",{account:this.account,password:this.password,forceLogin:1});o.code===200?(sessionStorage.setItem("SYSTEM_USER",JSON.stringify(o)),sessionStorage.setItem("SYSTEM_TOKEN",JSON.stringify(o.access_token)),this.getRouters()):l.error(o.msg)},async getRouters(){let o=await k("/getRouters");o.code===200&&(o.data.sort((s,n)=>s.id-n.id),sessionStorage.setItem("SYSTEM_MENUS",JSON.stringify(o.data)),u.addRouter(o.data),_.push("/home"),window.removeEventListener("keydown",t.keydown))},keydown(o){o.keyCode===13&&t.submit()}});return h(()=>{let o=JSON.parse(sessionStorage.getItem("SYSTEM_ISDARK"));sessionStorage.clear(),sessionStorage.setItem("SYSTEM_ISDARK",JSON.stringify(o)),window.addEventListener("keydown",t.keydown)}),x(()=>{window.addEventListener("keydown",t.keydown)}),(o,s)=>{const n=m("el-input"),g=m("el-button");return b(),E("div",N,[e("div",C,[M,e("div",V,[e("form",O,[e("p",T,[d(n,{id:"account",modelValue:i(t).account,"onUpdate:modelValue":s[0]||(s[0]=r=>i(t).account=r),placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7...",type:"text"},{prefix:p(()=>[J]),_:1},8,["modelValue"])]),e("p",Y,[d(n,{id:"password",modelValue:i(t).password,"onUpdate:modelValue":s[2]||(s[2]=r=>i(t).password=r),type:i(t).type?"text":"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801...",style:{margin:"0"}},{prefix:p(()=>[L]),suffix:p(()=>[e("i",{class:"iconfont icon-RectangleCopy8 cursor",onClick:s[1]||(s[1]=r=>i(t).type=!i(t).type)})]),_:1},8,["modelValue","type"])]),e("p",U,[d(g,{class:"submit",style:{background:"rgba(31,45,61,0.5)"},onClick:s[3]||(s[3]=r=>i(t).submit())},{default:p(()=>[A]),_:1})])])])])])}}};var vo=y(B,[["__scopeId","data-v-4ecd537e"]]);export{vo as default};
